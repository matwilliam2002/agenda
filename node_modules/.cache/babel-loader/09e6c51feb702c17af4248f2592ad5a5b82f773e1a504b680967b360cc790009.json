{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport TaskItem from '@/components/TaskItem.vue';\nexport default {\n  name: 'CreateTask',\n  components: {\n    TaskItem\n  },\n  setup() {\n    const tasks = ref([]);\n    const fetchTasks = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/listaTarefa', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const data = await response.json();\n        tasks.value = data;\n      } catch (error) {\n        console.error('Erro ao buscar tarefas:', error);\n      }\n    };\n    const removeTaskFromList = taskId => {\n      tasks.value = tasks.value.filter(task => task.id !== taskId);\n    };\n    onMounted(() => {\n      fetchTasks();\n    });\n    return {\n      tasks,\n      removeTaskFromList\n    };\n  },\n  methods: {\n    addTask() {\n      if (this.taskName && this.taskColor) {\n        // Faz uma requisição POST ao servidor Express\n        fetch(\"http://localhost:3000/adicionaTarefa\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            nome: this.taskName,\n            cor: this.taskColor\n          })\n        }).then(response => {\n          if (!response.ok) {\n            console.error(\"Erro ao enviar a tarefa.\");\n          }\n        }).catch(error => {\n          console.error(\"Erro:\", error);\n        });\n\n        // Adiciona a tarefa à lista local imediatamente\n        this.tasks.push({\n          nome: this.taskName,\n          cor: this.taskColor\n        });\n\n        // Limpa o formulário após adicionar a tarefa\n        this.taskName = '';\n        this.taskColor = '#ffffff';\n      }\n    }\n  }\n};","map":{"version":3,"names":["ref","onMounted","TaskItem","name","components","setup","tasks","fetchTasks","response","fetch","method","headers","data","json","value","error","console","removeTaskFromList","taskId","filter","task","id","methods","addTask","taskName","taskColor","body","JSON","stringify","nome","cor","then","ok","catch","push"],"sources":["src/components/CreateTask.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"conteiner\">\r\n\r\n    <div class=\"created-tasks\">\r\n      <h3>Tarefas Criadas</h3>\r\n      <div class=\"tarefas-criadas\">\r\n        <TaskItem v-for=\"(task, index) in tasks\" :key=\"index\" :task=\"task\" @task-deleted=\"removeTaskFromList\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"create-task\">\r\n      <h2>Criar Nova Tarefa</h2>\r\n      <form @submit.prevent=\"addTask\">\r\n        <div class=\"form-group\">\r\n          <label for=\"task-name\">Nome da Tarefa:</label>\r\n          <input\r\n            v-model=\"taskName\"\r\n            type=\"text\"\r\n            id=\"task-name\"\r\n            name=\"nome\"\r\n            placeholder=\"Digite o nome da tarefa\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"task-color\">Cor da Tarefa:</label>\r\n          <input\r\n            v-model=\"taskColor\"\r\n            type=\"color\"\r\n            id=\"task-color\"\r\n            name=\"cor\"\r\n            required\r\n          />\r\n        </div>\r\n        <button class=\"add-task\" type=\"submit\">Adicionar Tarefa</button>\r\n      </form>\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  \r\n</template>\r\n\r\n<style lang=\"css\">\r\n@import \"../assets/css/CreateTask.css\";\r\n</style>\r\n\r\n<script>\r\nimport {ref, onMounted} from 'vue';\r\nimport TaskItem from '@/components/TaskItem.vue';\r\n\r\nexport default {\r\n  name: 'CreateTask',\r\n  components: {\r\n    TaskItem\r\n  },\r\n  setup() {\r\n    const tasks = ref([]);\r\n\r\n    const fetchTasks = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:3000/listaTarefa', {\r\n          method: 'GET',\r\n          headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        const data = await response.json();\r\n        \r\n        tasks.value = data;\r\n      } catch (error) {\r\n        console.error('Erro ao buscar tarefas:', error);\r\n      }\r\n    };\r\n\r\n    const removeTaskFromList = (taskId) => {\r\n      tasks.value = tasks.value.filter(task => task.id !== taskId);\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchTasks();\r\n    });\r\n\r\n    return {\r\n      tasks,\r\n      removeTaskFromList\r\n    };\r\n  },\r\n  methods: {\r\n    addTask() {\r\n      if (this.taskName && this.taskColor) {\r\n        // Faz uma requisição POST ao servidor Express\r\n        fetch(\"http://localhost:3000/adicionaTarefa\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify({\r\n            nome: this.taskName,\r\n            cor: this.taskColor\r\n          })\r\n        })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            console.error(\"Erro ao enviar a tarefa.\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Erro:\", error);\r\n        });\r\n\r\n        // Adiciona a tarefa à lista local imediatamente\r\n        this.tasks.push({\r\n          nome: this.taskName,\r\n          cor: this.taskColor\r\n        });\r\n\r\n        // Limpa o formulário após adicionar a tarefa\r\n        this.taskName = '';\r\n        this.taskColor = '#ffffff';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";AAkDA,SAAAA,GAAA,EAAAC,SAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,MAAA;IACA,MAAAC,KAAA,GAAAN,GAAA;IAEA,MAAAO,UAAA,SAAAA,CAAA;MACA;QACA,MAAAC,QAAA,SAAAC,KAAA;UACAC,MAAA;UACAC,OAAA;YAAA;UAAA;QACA;QACA,MAAAC,IAAA,SAAAJ,QAAA,CAAAK,IAAA;QAEAP,KAAA,CAAAQ,KAAA,GAAAF,IAAA;MACA,SAAAG,KAAA;QACAC,OAAA,CAAAD,KAAA,4BAAAA,KAAA;MACA;IACA;IAEA,MAAAE,kBAAA,GAAAC,MAAA;MACAZ,KAAA,CAAAQ,KAAA,GAAAR,KAAA,CAAAQ,KAAA,CAAAK,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,EAAA,KAAAH,MAAA;IACA;IAEAjB,SAAA;MACAM,UAAA;IACA;IAEA;MACAD,KAAA;MACAW;IACA;EACA;EACAK,OAAA;IACAC,QAAA;MACA,SAAAC,QAAA,SAAAC,SAAA;QACA;QACAhB,KAAA;UACAC,MAAA;UACAC,OAAA;YACA;UACA;UACAe,IAAA,EAAAC,IAAA,CAAAC,SAAA;YACAC,IAAA,OAAAL,QAAA;YACAM,GAAA,OAAAL;UACA;QACA,GACAM,IAAA,CAAAvB,QAAA;UACA,KAAAA,QAAA,CAAAwB,EAAA;YACAhB,OAAA,CAAAD,KAAA;UACA;QACA,GACAkB,KAAA,CAAAlB,KAAA;UACAC,OAAA,CAAAD,KAAA,UAAAA,KAAA;QACA;;QAEA;QACA,KAAAT,KAAA,CAAA4B,IAAA;UACAL,IAAA,OAAAL,QAAA;UACAM,GAAA,OAAAL;QACA;;QAEA;QACA,KAAAD,QAAA;QACA,KAAAC,SAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}